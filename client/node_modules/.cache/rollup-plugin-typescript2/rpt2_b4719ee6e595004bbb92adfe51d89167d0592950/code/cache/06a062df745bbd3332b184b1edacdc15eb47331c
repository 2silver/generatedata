{"code":"var MAX_EMAIL_LENGTH = 254;\r\nvar getWords = function () {\r\n    var words = utils.stringUtils.getLipsumWords().words;\r\n    return words;\r\n};\r\nexport var removePunctuation = function (arr) { return arr.map(function (i) { return i.replace(/[.,:;]/g, ''); }); };\r\nexport var getRandomEmail = function (wordsArr, suffixes) {\r\n    if (suffixes === void 0) { suffixes = [\"edu\", \"com\", \"org\", \"ca\", \"net\", \"co.uk\"]; }\r\n    var numWords = wordsArr.length;\r\n    var numPrefixWords = utils.randomUtils.getRandomNum(1, 3);\r\n    var offset = utils.randomUtils.getRandomNum(0, numWords - (numPrefixWords + 1));\r\n    var selectedWords = removePunctuation(wordsArr.slice(offset, offset + numPrefixWords));\r\n    var prefix = selectedWords.join('.');\r\n    // domain\r\n    var numDomainWords = utils.randomUtils.getRandomNum(1, 3);\r\n    var domainOffset = utils.randomUtils.getRandomNum(0, numWords - (numDomainWords + 1));\r\n    var selectedDomainWords = removePunctuation(wordsArr.slice(domainOffset, domainOffset + numDomainWords));\r\n    var domain = selectedDomainWords.join('');\r\n    // suffix\r\n    var suffix = utils.randomUtils.getRandomArrayValue(suffixes);\r\n    // if the email exceeded 254 chars (the max valid number of chars), truncate it. This could be way\r\n    // more elegant, but it's SUCH a fringe case I don't much mind\r\n    var email = (prefix + \"@\" + domain + \".\" + suffix).toLowerCase();\r\n    var length = email.length;\r\n    if (length > MAX_EMAIL_LENGTH) {\r\n        var prefixChunk = prefix.slice(0, Math.ceil(prefix.length / 2));\r\n        var domainChunk = domain.slice(0, Math.ceil(domain.length / 2));\r\n        email = (prefixChunk + \"@\" + domainChunk + \".\" + suffix).toLowerCase();\r\n    }\r\n    return email;\r\n};\r\nvar utilsLoaded = false;\r\nvar onmessage = function (e) {\r\n    if (!utilsLoaded) {\r\n        importScripts(e.data.workerResources.workerUtils);\r\n        utilsLoaded = true;\r\n    }\r\n    var words = getWords();\r\n    postMessage({\r\n        display: getRandomEmail(words)\r\n    });\r\n};\r\n//# sourceMappingURL=Email.generator.js.map","references":[],"map":"{\"version\":3,\"file\":\"Email.generator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/plugins/dataTypes/Email/Email.generator.ts\"],\"names\":[],\"mappings\":\"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\"}"}
