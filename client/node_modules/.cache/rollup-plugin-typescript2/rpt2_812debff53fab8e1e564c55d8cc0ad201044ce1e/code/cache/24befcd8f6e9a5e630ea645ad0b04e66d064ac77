{"code":"var context = self;\r\nvar workerUtilsLoaded = false;\r\ncontext.onmessage = function (e) {\r\n    if (!workerUtilsLoaded) {\r\n        importScripts(e.data.workerResources.workerUtils);\r\n        workerUtilsLoaded = true;\r\n    }\r\n    var exportFormat = e.data.settings.exportFormat;\r\n    var content = '';\r\n    if (exportFormat === 'table') {\r\n        content = generateTableFormat(e.data);\r\n    }\r\n    else if (exportFormat === 'ul') {\r\n        content = generateUlFormat(e.data);\r\n    }\r\n    else if (exportFormat === 'dl') {\r\n        content = generateDlFormat(e.data);\r\n    }\r\n    context.postMessage(content);\r\n};\r\nexport var generateTableFormat = function (data) {\r\n    var stripWhitespace = data.stripWhitespace;\r\n    var newline = stripWhitespace ? '' : '\\n';\r\n    var tab = stripWhitespace ? '' : '\\t';\r\n    var content = \"\";\r\n    if (data.isFirstBatch) {\r\n        content += \"<table>\" + newline + tab + \"<tr>\" + newline;\r\n        data.columns.forEach(function (_a) {\r\n            var title = _a.title;\r\n            content += \"\" + tab + tab + \"<th>\" + title + \"</th>\" + newline;\r\n        });\r\n        content += tab + \"</tr>\" + newline;\r\n    }\r\n    data.rows.forEach(function (row) {\r\n        content += tab + \"<tr>\" + newline;\r\n        data.columns.forEach(function (col, colIndex) {\r\n            content += \"\" + tab + tab + \"<td>\" + row[colIndex] + \"</td>\" + newline;\r\n        });\r\n        content += tab + \"</tr>\" + newline;\r\n    });\r\n    if (data.isLastBatch) {\r\n        content += '</table>';\r\n    }\r\n    return content;\r\n};\r\nexport var generateUlFormat = function (data) {\r\n    var stripWhitespace = data.stripWhitespace;\r\n    var newline = stripWhitespace ? '' : '\\n';\r\n    var tab = stripWhitespace ? '' : '\\t';\r\n    var content = '';\r\n    if (data.isFirstBatch) {\r\n        content += \"<ul class=\\\"columns\\\">\" + newline;\r\n        data.columns.forEach(function (_a) {\r\n            var title = _a.title;\r\n            content += tab + \"<li>\" + title + \"</li>\" + newline;\r\n        });\r\n        content += \"</ul>\" + newline;\r\n    }\r\n    data.rows.forEach(function (row) {\r\n        content += \"<ul>\" + newline;\r\n        data.columns.forEach(function (col, colIndex) {\r\n            content += tab + \"<li>\" + row[colIndex] + \"</li>\" + newline;\r\n        });\r\n        content += \"</ul>\" + newline;\r\n    });\r\n    return content;\r\n};\r\nexport var generateDlFormat = function (data) {\r\n    var stripWhitespace = data.stripWhitespace;\r\n    var newline = stripWhitespace ? '' : '\\n';\r\n    var tab = stripWhitespace ? '' : '\\t';\r\n    var content = '';\r\n    data.rows.forEach(function (row) {\r\n        content += \"<dl>\" + newline;\r\n        data.columns.forEach(function (_a, colIndex) {\r\n            var title = _a.title;\r\n            content += tab + \"<dt>\" + title + \"</dt>\" + newline;\r\n            content += tab + \"<dd>\" + row[colIndex] + \"</dd>\" + newline;\r\n        });\r\n        content += \"</dl>\" + newline;\r\n    });\r\n    return content;\r\n};\r\n//# sourceMappingURL=HTML.generator.js.map","references":["/Users/benkeen/generatedata/client/types/exportTypes.d.ts"],"map":"{\"version\":3,\"file\":\"HTML.generator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/plugins/exportTypes/HTML/HTML.generator.ts\"],\"names\":[],\"mappings\":\"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\"}"}
