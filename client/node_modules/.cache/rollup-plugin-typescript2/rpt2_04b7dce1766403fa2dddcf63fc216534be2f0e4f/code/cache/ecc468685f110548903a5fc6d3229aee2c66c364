{"code":"var context = self;\r\nvar workerResources;\r\nvar loadedExportTypeWorkers = {};\r\nvar exportTypeWorkerMap = {};\r\nvar abortedMessageIds = {};\r\ncontext.onmessage = function (e) {\r\n    var _a = e.data, _action = _a._action, _messageId = _a._messageId, rows = _a.rows, columns = _a.columns, isFirstBatch = _a.isFirstBatch, isLastBatch = _a.isLastBatch, exportType = _a.exportType, numResults = _a.numResults, exportTypeSettings = _a.exportTypeSettings, stripWhitespace = _a.stripWhitespace;\r\n    if (_action === 'abort') {\r\n        abortedMessageIds[_messageId] = true;\r\n    }\r\n    workerResources = e.data.workerResources;\r\n    exportTypeWorkerMap = workerResources.exportTypes;\r\n    if (!loadedExportTypeWorkers[exportType]) {\r\n        loadedExportTypeWorkers[exportType] = new Worker(exportTypeWorkerMap[exportType]);\r\n    }\r\n    var worker = loadedExportTypeWorkers[exportType];\r\n    worker.postMessage({\r\n        isFirstBatch: isFirstBatch,\r\n        isLastBatch: isLastBatch,\r\n        numResults: numResults,\r\n        rows: rows,\r\n        columns: columns,\r\n        settings: exportTypeSettings,\r\n        stripWhitespace: stripWhitespace,\r\n        workerResources: workerResources\r\n    });\r\n    worker.onmessage = function (e) {\r\n        if (abortedMessageIds[_messageId]) {\r\n            console.log(\"ABORTED\");\r\n        }\r\n        else {\r\n            context.postMessage(e.data);\r\n        }\r\n    };\r\n};\r\n//# sourceMappingURL=exportTypes.worker.js.map","references":[],"map":"{\"version\":3,\"file\":\"exportTypes.worker.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/core/generator/exportTypes.worker.ts\"],\"names\":[],\"mappings\":\"AAAA,IAAM,OAAO,GAAW,IAAW,CAAC;AAEpC,IAAI,eAAoB,CAAC;AACzB,IAAI,uBAAuB,GAAQ,EAAE,CAAC;AACtC,IAAI,mBAAmB,GAAQ,EAAE,CAAC;AAClC,IAAI,iBAAiB,GAAQ,EAAE,CAAC;AAEhC,OAAO,CAAC,SAAS,GAAG,UAAC,CAAe;IAC7B,IAAA,KAGF,CAAC,CAAC,IAAI,EAFT,OAAO,aAAA,EAAE,UAAU,gBAAA,EAAE,IAAI,UAAA,EAAE,OAAO,aAAA,EAAE,YAAY,kBAAA,EAAE,WAAW,iBAAA,EAAE,UAAU,gBAAA,EAAE,UAAU,gBAAA,EACrF,kBAAkB,wBAAA,EAAE,eAAe,qBAC1B,CAAC;IAEX,IAAI,OAAO,KAAK,OAAO,EAAE;QACxB,iBAAiB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;KACrC;IAED,eAAe,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;IACzC,mBAAmB,GAAG,eAAe,CAAC,WAAW,CAAC;IAElD,IAAI,CAAC,uBAAuB,CAAC,UAAU,CAAC,EAAE;QACzC,uBAAuB,CAAC,UAAU,CAAC,GAAG,IAAI,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC,CAAC;KAClF;IAED,IAAM,MAAM,GAAG,uBAAuB,CAAC,UAAU,CAAC,CAAC;IAEnD,MAAM,CAAC,WAAW,CAAC;QAClB,YAAY,cAAA;QACZ,WAAW,aAAA;QACX,UAAU,YAAA;QACV,IAAI,MAAA;QACJ,OAAO,SAAA;QACP,QAAQ,EAAE,kBAAkB;QAC5B,eAAe,iBAAA;QACf,eAAe,iBAAA;KACf,CAAC,CAAC;IAEH,MAAM,CAAC,SAAS,GAAG,UAAC,CAAe;QAClC,IAAI,iBAAiB,CAAC,UAAU,CAAC,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACvB;aAAM;YACN,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SAC5B;IACF,CAAC,CAAC;AACH,CAAC,CAAC\"}"}
