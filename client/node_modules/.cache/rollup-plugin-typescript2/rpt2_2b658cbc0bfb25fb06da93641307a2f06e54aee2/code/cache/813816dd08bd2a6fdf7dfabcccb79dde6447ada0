{"code":"var onmessage = function (e) {\r\n    postMessage(generate(e.data.rowState));\r\n};\r\nexport var generate = function (rowState) {\r\n    var mean = rowState.mean, sigma = rowState.sigma, precision = rowState.precision;\r\n    return {\r\n        display: gaussMs(mean, sigma).toFixed(precision)\r\n    };\r\n};\r\n// adjust our gaussian random to fit the mean and standard deviation. The division by 4 is an arbitrary value to help\r\n// fit the distribution within our required range, and gives a best fit for stddev = 1.0\r\nvar gaussMs = function (mean, stddev) { return gauss() * (stddev / 4) + mean; };\r\nvar useExists = false;\r\nvar useValue;\r\nvar gauss = function () {\r\n    if (useExists) {\r\n        // use value from a previous call to this function\r\n        useExists = false;\r\n        return useValue;\r\n    }\r\n    else {\r\n        // polar form of the Box-Muller transformation\r\n        var w = 2.0;\r\n        var x = 0;\r\n        var y = 0;\r\n        while (w >= 1 || w === 0.0) {\r\n            x = randomPN();\r\n            y = randomPN();\r\n            w = (x * x) + (y * y);\r\n        }\r\n        w = Math.sqrt((-2.0 * Math.log(w)) / w);\r\n        // set value for next call to this function\r\n        useValue = y * w;\r\n        useExists = true;\r\n        return x * w;\r\n    }\r\n};\r\n// returns random number with a flat distribution from -1 to 1 inclusive\r\nvar randomPN = function () { return (2.0 * Math.random()) - 1.0; };\r\n//# sourceMappingURL=NormalDistribution.generator.js.map","references":["/Users/benkeen/generatedata/client/types/dataTypes.d.ts"],"map":"{\"version\":3,\"file\":\"NormalDistribution.generator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/plugins/dataTypes/NormalDistribution/NormalDistribution.generator.ts\"],\"names\":[],\"mappings\":\"AAEA,IAAM,SAAS,GAAG,UAAC,CAAM;IACxB,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,QAAQ,GAAG,UAAC,QAAa;IAC7B,IAAA,IAAI,GAAuB,QAAQ,KAA/B,EAAE,KAAK,GAAgB,QAAQ,MAAxB,EAAE,SAAS,GAAK,QAAQ,UAAb,CAAc;IAE5C,OAAO;QACN,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC;KAChD,CAAC;AACH,CAAC,CAAC;AAEF,qHAAqH;AACrH,wFAAwF;AACxF,IAAM,OAAO,GAAG,UAAC,IAAY,EAAE,MAAc,IAAa,OAAA,KAAK,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,EAA7B,CAA6B,CAAC;AAExF,IAAI,SAAS,GAAG,KAAK,CAAC;AACtB,IAAI,QAAgB,CAAC;AAErB,IAAM,KAAK,GAAG;IACb,IAAI,SAAS,EAAE;QACd,kDAAkD;QAClD,SAAS,GAAG,KAAK,CAAC;QAClB,OAAO,QAAQ,CAAC;KAChB;SAAM;QACN,8CAA8C;QAC9C,IAAI,CAAC,GAAG,GAAG,CAAC;QACZ,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE;YAC3B,CAAC,GAAG,QAAQ,EAAE,CAAC;YACf,CAAC,GAAG,QAAQ,EAAE,CAAC;YACf,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SACtB;QACD,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAExC,2CAA2C;QAC3C,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,SAAS,GAAG,IAAI,CAAC;QAEjB,OAAO,CAAC,GAAG,CAAC,CAAC;KACb;AACF,CAAC,CAAC;AAEF,wEAAwE;AACxE,IAAM,QAAQ,GAAG,cAAc,OAAA,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAA3B,CAA2B,CAAC\"}"}
